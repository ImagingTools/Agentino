schema {
	query: Query
	mutation: Mutation
	subscription: Subscription
	name: Agents
	namespace: agentino
	version: 1.0
}

import {
	"../../../../ImtCore/Sdl/imtbase/1.0/ImtCollection.sdl"
}

type AgentListInputViewParams {
	Count: Int
	Offset: Int
	FilterModel: String
}

input AgentListInput {
	viewParams: AgentListInputViewParams
}

type AgentItem {
	Id: ID!
	TypeId: ID!
	Name: String!
	Description: String
	Added: String
	ComputerName: String
	Services: String
	Status: String
	LastConnection: String
	Version: String
}

type AgentListPayload{
	items: [AgentItem]!
}

type AgentData {
	Id: ID!
	Name: String!
	Description: String
	LastConnection: String
	TracingLevel: Integer
}

type AgentDataPayload{
	item: AgentData!
}

input AgentDataInput {
	Id: ID!
	Item: AgentData!
}

type Query {
	AgentsList (input: AgentListInput): AgentListPayload!
	GetAgent (input: InputId): AgentDataPayload!
}

type Mutation {
	UpdateAgent (input: AgentDataInput): UpdatedNotificationPayload!
	AddAgent (input: AgentDataInput): AddedNotificationPayload!
}

collectionSchema {
	type Agent {
		ref: AgentItem
		operations {
			list: AgentsList
		}
		subtype Agent {
			ref: AgentData
			operations {
				get: GetAgent
				update: UpdateAgent
			}
		}
	}
}
