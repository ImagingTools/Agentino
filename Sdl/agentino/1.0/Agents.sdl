schema {
	query: Query
	mutation: Mutation
	subscription: Subscription
	name: Agents
	namespace: agentino
	version: 1.0
}

import {
	"../../../../ImtCore/Sdl/imtbase/1.0/ImtCollection.sdl"
}

type AgentListInputViewParams {
	count: Int
	offset: Int
	filterModel: String
}

input AgentListInput {
	viewParams: AgentListInputViewParams
}

type AgentItem {
	id: ID!
	typeId: ID!
	name: String!
	description: String
	added: String
	computerName: String
	services: String
	status: String
	lastConnection: String
	version: String
}

type AgentListPayload{
	items: [AgentItem]!
}

type AgentData {
	id: ID!
	name: String!
	description: String
	lastConnection: String
	tracingLevel: Integer
}

input AgentDataInput {
	id: ID!
	item: AgentData!
}

type Query {
	AgentsList (input: AgentListInput): AgentListPayload!
	GetAgent (input: InputId): AgentData!
}

type Mutation {
	UpdateAgent (input: AgentDataInput): UpdatedNotificationPayload!
	AddAgent (input: AgentDataInput): AddedNotificationPayload!
}

collectionSchema {
	type Agent {
		ref: AgentItem
		operations {
			list: AgentsList
		}
		subtype Agent {
			ref: AgentData
			operations {
				get: GetAgent
				update: UpdateAgent
			}
		}
	}
}
